
/**
 * Author:  Betrand Ugorji
 * Created: 03-May-2024
 */

CREATE SCHEMA companysearch;
SET SCHEMA companysearch;

CREATE TABLE ADDRESS_ (
ID integer GENERATED BY DEFAULT AS IDENTITY, 
LOCALITY varchar(100), 
POSTAL_CODE varchar(100),
PREMISES varchar(100), 
ADDRESS_LINE_1 varchar(100),
COUNTRY varchar(100), 
PRIMARY KEY (ID)
);

CREATE TABLE COMPANY_ (
COMPANY_NUMBER varchar(100) NOT NULL, 
COMPANY_TYPE varchar(100), 
TITLE varchar(100),
COMPANY_STATUS varchar(100), 
DATE_OF_CREATION DATE,
ADDRESS integer,
PRIMARY KEY (COMPANY_NUMBER)
);

CREATE TABLE OFFICER_ (
ID integer GENERATED BY DEFAULT AS IDENTITY, 
NAME_ varchar(100),
OFFICER_ROLE varchar(100),
APPOINTED_ON DATE,
RESIGNED_ON DATE,
COMPANY varchar(100) NOT NULL,
ADDRESS integer,
PRIMARY KEY (ID)
);

ALTER TABLE COMPANY_ ADD CONSTRAINT COMPANY_ADDRESS_FK FOREIGN KEY (ADDRESS) REFERENCES ADDRESS_ (ID);

ALTER TABLE OFFICER_ ADD CONSTRAINT OFFICER_COMPANY_FK FOREIGN KEY (COMPANY) REFERENCES COMPANY_ (COMPANY_NUMBER);

ALTER TABLE OFFICER_ ADD CONSTRAINT OFFICER_ADDRESS_FK FOREIGN KEY (ADDRESS) REFERENCES ADDRESS_ (ID);

